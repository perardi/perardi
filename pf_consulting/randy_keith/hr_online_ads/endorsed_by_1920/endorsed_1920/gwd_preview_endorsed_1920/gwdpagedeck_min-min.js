(function(){"use strict";function t(t,e,i,s,n,a,r){if(this.j=t,this.f=e,this.w=i,t=s||"none",this.l=n="none"===t?0:n||1e3,this.g=a||"linear",this.i=[],n){if(a=r||"top",r=this.j){if(r.classList.add("gwd-page"),r.classList.add("center"),r="center","push"==t)switch(a){case"top":r="top";break;case"bottom":r="bottom";break;case"left":r="left";break;case"right":r="right"}this.i.push(r),"fade"==t&&this.i.push("transparent")}if(r=this.f,n="center","none"!=t&&"fade"!=t)switch(a){case"top":n="bottom";break;case"bottom":n="top";break;case"left":n="right";break;case"right":n="left"}r.classList.add(n),r.classList.add("gwd-page"),"fade"==t&&r.classList.add("transparent")}}var e,i=["-ms-","-moz-","-webkit-",""],s=function(t,e){for(var s,n,a=0;a<i.length;++a)s=i[a]+"transition-duration",n=""+e,t.style.setProperty(s,n)};t.prototype.start=function(){if(this.l){var t=this.j,e=this.f;if(o(e,this.J.bind(this)),t&&(s(t,this.l+"ms"),t.classList.add(this.g)),s(e,this.l+"ms"),e.classList.add(this.g),e.setAttribute("gwd-reflow",e.offsetWidth),t)for(var i=0;i<this.i.length;++i)t.classList.add(this.i[i]);r(e)}else this.w()};var n=function(t,e,i,s){return i="transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+i+","+s+",0,1);",t+"."+e+"{-webkit-"+i+"-moz-"+i+"-ms-"+i+i+"}"},a="center top bottom left right transparent".split(" "),r=function(t){a.forEach(function(e){t.classList.remove(e)})},o=function(t,e){var i=function(){t.removeEventListener("webkitTransitionEnd",i),t.removeEventListener("transitionend",i),e()};t.addEventListener("webkitTransitionEnd",i),t.addEventListener("transitionend",i)};t.prototype.J=function(){var t=this.j;t&&(r(t),s(t,0),t.classList.remove(this.g)),s(this.f,0),this.f.classList.remove(this.g),this.w()};var h=function(t,e,i){if(i){var s=document.createEvent("CustomEvent");s.initCustomEvent(t,!0,!0,i)}else s=document.createEvent("Event"),s.initEvent(t,!0,!0);e.dispatchEvent(s)},d=function(t,e){var i=function(s){t.removeEventListener("attached",i),e(s)};t.addEventListener("attached",i)},c=function(){};goog.inherits(c,HTMLDivElement),c.prototype.createdCallback=function(){window.addEventListener("WebComponentsReady",this.I.bind(this),!1),this.u=this.h.bind(this,"shake"),this.v=this.h.bind(this,"tilt"),this.s=this.h.bind(this,"rotatetoportrait"),this.o=this.h.bind(this,"rotatetolandscape"),this.a=[],this.A=this.H.bind(this),this.D=this.F.bind(this),this.c=this.B=null,this.b=-1,this.m=!1,this.classList.add("gwd-pagedeck"),Object.defineProperty(this,"currentIndex",{enumerable:!0,get:this.G.bind(this)})},c.prototype.I=function(){for(this.a=Array.prototype.slice.call(this.querySelectorAll("div[is=gwd-page]")),this.a.forEach(function(t){t.classList.add("gwd-page")}),h("beforepagesdetached",this,{pages:this.a.slice()});this.firstChild;)this.removeChild(this.firstChild);-1==this.b&&void 0!==this.C&&this.goToPage(this.C)},c.prototype.attachedCallback=function(){if(!this.B){var t=this.id,e=this.offsetWidth,i=this.offsetHeight;t=(t&&"#")+t+".gwd-pagedeck > .gwd-page",e=n(t,"center",0,0)+n(t,"top",0,i)+n(t,"bottom",0,-i)+n(t,"left",e,0)+n(t,"right",-e,0),i=document.createElement("style"),void 0!==i.cssText?i.cssText=e:i.innerHTML=e,document.head.appendChild(i),this.B=i}this.addEventListener("pageload",this.A,!1),document.body.addEventListener("shake",this.u,!0),document.body.addEventListener("tilt",this.v,!0),document.body.addEventListener("rotatetoportrait",this.s,!0),document.body.addEventListener("rotatetolandscape",this.o,!0)},c.prototype.detachedCallback=function(){this.removeEventListener("pageload",this.A,!1),document.body&&(document.body.removeEventListener("shake",this.u,!0),document.body.removeEventListener("tilt",this.v,!0),document.body.removeEventListener("rotatetoportrait",this.s,!0),document.body.removeEventListener("rotatetolandscape",this.o,!0))};var u=function(e,i,s,n,a,r){if(!(e.b==i||0>i||i>e.a.length-1||e.c)){var o=e.a[e.b],h=e.a[i];e.b=i,e.c=new t(o,h,e.D,s,n,a,r);var c=h.gwdLoad&&!h.gwdIsLoaded();e.m=c,d(h,function(){h.gwdActivate(),c?h.gwdLoad():l(this)}.bind(e)),e.appendChild(h)}};c.prototype.H=function(t){this.m&&t.target.parentNode==this&&(l(this),this.m=!1)};var l=function(t){h("pagetransitionstart",t),t.c.start()};e=c.prototype,e.F=function(){if(this.c){var t=this.c.j,e=this.c.f;this.c=null,h("pagetransitionend",this,{outgoingPage:t||null,incomingPage:e}),t&&t.gwdDeactivate(),e.gwdPresent()}},e.findPageIndexByAttributeValue=function(t,e){for(var i=this.a.length,s,n=0;n<i;n++)if(s=this.a[n],"boolean"==typeof e){if(s.hasAttribute(t))return n}else if(s.getAttribute(t)==e)return n;return-1},e.goToNextPage=function(t,e,i,s,n){var a=this.b,r=a+1;r>=this.a.length&&(r=t?0:a),u(this,r,e,i,s,n)},e.goToPreviousPage=function(t,e,i,s,n){var a=this.b,r=this.a.length,o=a-1;0>o&&(o=t?r-1:a),u(this,o,e,i,s,n)},e.goToPage=function(t,e,i,s,n){this.a.length?0<=(t="number"==typeof t?t:this.findPageIndexByAttributeValue("id",t))&&u(this,t,e,i,s,n):this.C=t},e.G=function(){return 0<=this.b?this.b:void 0},e.getPages=function(){return this.a},e.getPage=function(t){if("number"!=typeof t){if(!t)return null;t=this.findPageIndexByAttributeValue("id",t)}return 0>t||t>this.a.length-1?null:this.a[t]},e.getCurrentPage=function(){return this.getPage(this.b)},e.getDefaultPage=function(){var t=this.getAttribute("default-page");return t?this.getPage(this.findPageIndexByAttributeValue("id",t)):this.getPage(0)},e.getOrientationSpecificPage=function(t,e){e=this.getPage(e);var i=e.getAttribute("alt-orientation-page");if(!i)return e;var s=e.isPortrait();return t=1==t,i=this.getPage(i),t==s?e:i},e.h=function(t,e){if(e.target==document.body){var i=this.getPage(this.b);h(t,i,e.detail)}},e.getElementById=function(t){for(var e=this.a.length,i=0;i<e;i++){var s=this.a[i].querySelector("#"+t);if(s)return s}return null},e.getElementsBySelector=function(t){for(var e=this.a.length,i=[],s=0;s<e;s++){var n=this.a[s].querySelectorAll(t);n&&(i=i.concat(Array.prototype.slice.call(n)))}return i},e.attributeChangedCallback=function(){},document.registerElement("gwd-pagedeck",{prototype:c.prototype,extends:"div"})}).call(this);